<div class="montserrat-regular card-full">
    <div class="card-content">
        <div class="card-title">
            <div class="homenaje-strong card-name">{{this.caughtExcercise.name}}</div>
        

            <img class="card-image" [src]="caughtExcercise.imageUrl" alt="excercise-photo" onerror="this.src='../../../../../../../assets/default_images/defaultProgram.png'">
            
        </div>
        <div class="card-text-content">
            <div id="description-container" class="card-text-attribute">
                <p class="title">Description:</p>
                <p id="description">{{this.caughtExcercise.description}}</p>
                <hr>
            </div>
            @if(this.caughtExcercise.difficultyLevel != null || this.caughtExcercise.difficultyLevel > 5)
            {
            <div class="card-text-attribute">
                <p class="title">Difficulty level:</p>
                <p> {{this.caughtExcercise.difficultyLevel}}</p>
                <hr>
            </div>
            }
            <div class="card-text-attribute">
                <p class="title">Type:</p>
                <p> {{this.caughtExcercise.fitnessProgramTypeByFitnessProgramTypeId.name}}</p>
                <hr>
            </div>
            <div class="card-text-attribute">
                <p class="title">Duration:</p>
                <p> {{this.caughtExcercise.duration}} minutes</p>
                <hr>
            </div>
            <div class="card-text-attribute">
                <p class="title">Location:</p>
                <p> {{this.caughtExcercise.locationOfEvent}}</p>
                <hr>
            </div>
            <div class="card-text-attribute">
                <p class="title">Status:</p>
                @if (this.caughtExcercise.status == 0) 
                {
                    <p> Active</p>
                    <hr>
                }
                @else if(this.caughtExcercise.status == 1)
                {
                    <p> Finished</p>
                    <hr>
                }
                @else
                {
                    <p> Unknown</p>
                    <hr>
                }
            </div>
            <div class="card-text-attribute">
                <p class="title">Price:</p>
                <p> ${{this.caughtExcercise.price}}</p>
                <hr>
            </div>
            <div class="card-created-by">
                <p class="title"><b>Program hosted by:</b></p>
                <p> {{this.caughtExcercise.user_creator.firstName + " " + this.caughtExcercise.user_creator.lastName}} from {{this.caughtExcercise.user_creator.city}}</p>
                <p> <b>Username:</b> {{this.caughtExcercise.user_creator.username}}</p>
                <p> <b>E-mail:</b> {{this.caughtExcercise.user_creator.email}}</p>
                <hr>
            </div>
            <div class="participate-section">
                <button mat-fab extended (click)="routeToPurchasePage()" style="background-color: var(--secondary-color);">
                    <mat-icon>fitness_center</mat-icon>
                    Participate
                  </button>
            </div>
            <div class="card-comment-section">
                <div class="write-comment-section">
                    <mat-form-field class="comment-input-field">
                        <mat-label>Leave a comment</mat-label>
                        <textarea matInput (input)="textChanged($event)" id="comment-text-area"></textarea>
                      </mat-form-field>
                      <button mat-raised-button color="primary" style="scale: 1.3;" (click)="postComment($event)" [disabled]="isPostCommentDisabled">Post</button>
                </div>
                @if(this.commentsOnProgram != null)
                {   
                <div class="read-comment-section">
                    @for(comment of commentsOnProgram; track comment)
                    {
                        <div class="comment-field">
                            <div class="comment-user"><p>{{comment.user_commenter.username}} at {{comment.commentTime}}</p></div>
                            <div class="comment-content"><p>{{comment.comment}}</p></div>
                            <hr>
                        </div>

                    }

                </div>
                }
            </div>
        </div>
    </div>
</div>

